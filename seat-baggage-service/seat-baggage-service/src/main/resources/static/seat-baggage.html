<!DOCTYPE html>
<html>
<head>
    <title>Seat & Baggage</title>
</head>
<body>
<h2>Select Seat</h2>
<form id="seatForm">
    <select name="seatNumber" id="seatNumber">
        <option value="A1">A1</option>
        <option value="A2">A2</option>
        <option value="A3">A3</option>
        <option value="A4">A4</option>
        <option value="A5">A5</option>
        <option value="A6">A6</option>
    </select>
    <button type="submit">Add Seat to Cart</button>
</form>
<pre id="seatOutput"></pre>

<h2>Add Baggage</h2>
<form id="baggageForm">
    Weight (kg): <input type="number" name="weight" id="weight"><br>
    Type: <input type="text" name="type" id="type"><br>
    <button type="submit">Add Baggage</button>
</form>
<pre id="baggageOutput"></pre>

<br>
<button onclick="goToPayment()">Proceed to Payment</button>

<script>
    document.getElementById("seatForm").addEventListener("submit", function(e) {
        e.preventDefault();
        const seatNumber = document.getElementById("seatNumber").value;
        fetch("http://localhost:8000/select-seat", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: `seatNumber=${seatNumber}`
        })
        .then(res => res.text())
        .then(data => document.getElementById("seatOutput").innerText = data);
    });

    document.getElementById("baggageForm").addEventListener("submit", function(e) {
        e.preventDefault();
        const weight = document.getElementById("weight").value;
        const type = document.getElementById("type").value;
        fetch("http://localhost:8000/add-baggage", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: `weight=${weight}&type=${type}`
        })
        .then(res => res.text())
        .then(data => document.getElementById("baggageOutput").innerText = data);
    });

    function goToPayment() {
        window.location.href = "http://localhost:8080/payment.html";
    }
</script>
</body>
</html>
